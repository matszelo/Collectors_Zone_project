{% extends 'Base_html/base.html' %}
{% block content %}
    {% for msg in messages %}
     <div class="container-fluid mt-3">
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
              {{ msg }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
     </div>
    {% endfor %}
    <div class="d-flex justify-content-center mb-3" style="margin-top: 25px">
        <div class="card me-4 ms-4 shadow" style="width: 400px">
            <div class="card-header text-center">
                EDYTUJ PROFIL
            </div>    
            <div class="card-body pt-3 pb-0">
                <form action="" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                        <div class="mb-2">
                        <label for="exampleInputText" class="form-label mb-0">Nazwa użytkownika</label>
                        {{ user_form.username }}
                        </div>
                        <div class="mb-2">
                        <label for="exampleInputMail" class="form-label mb-0">Email</label>
                        {{ user_form.email }}
                        </div>
                        <div class="mb-0">
                        <label for="exampleTextArea" class="form-label mb-0">Opis</label>
                        {{ profile_form.bio }}
                        </div>
                        <div class="card-body">
                            <label for="exampleTextArea" class="form-label mb-1">Zdjęcie profilowe</label>
                            <div class="card-body border rounded" style="border: #0dcaf0">
                                {{ profile_form.profile_pic }}
                            </div>    
                        </div>
                    <div class="d-flex justify-content-center">
                        <input class="btn btn-sm fw-semibold d-flex justify-content-center mt-0 mb-2" type="submit" value="Zakończ edycję" style="background-color: #fd7e14">
                    </div>    
                </form>
                <div class="d-flex justify-content-center">
                    <div class="border border-bottom mt-1 mb-1 w-75">
                    </div>
                </div>
                <a type="button" class="btn btn-danger btn-sm fw-semibold d-flex justify-content-center mb-3 mt-2" data-bs-toggle="modal" data-bs-target="#exampleModal">
                    Usuń konto
                </a>
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header bg-dark">
                        <h1 class="modal-title text-white fs-5" id="exampleModalLabel">Usuń konto</h1>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body text-center">
                        Czy na pewno nie chcesz zachować swojego konta?
                      </div>
                      <div class="modal-footer justify-content-center">
                        <button type="button" class="btn btn-success" data-bs-dismiss="modal">Zachowaj konto</button>
                        <a href="{% url 'delete_profile' request.user.id %}" type="button"  class="btn btn-danger">Usuń konto</a>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
        </div>
    </div>    
{% endblock %}